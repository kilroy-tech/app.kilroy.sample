<xml xmlns="http://www.w3.org/1999/xhtml"><block type="workflow_start" id="b8y9fJggqk+VoJzGC-cI" deletable="false" x="190" y="50"><field name="name">kilroy.sample/widget/ui_save_template</field><field name="version">1</field><field name="description"></field><field name="interactive">TRUE</field><field name="clean_up">TRUE</field><value name="OUTPUTS"><block type="process_variable_all" id="[baP4qH?m`vxpMcn}C4z"><mutation variable_count="1"></mutation><value name="INPUT0"><block type="process_variable" id="6ReKJH,wptQ3tuwIF/e7"><field name="process_variable_val">widget_template</field></block></value></block></value><next><block type="step_group" id="@5#DWeAnwxT4Tf3(T2xd"><field name="role">*</field><field name="timer">24</field><field name="interactive">TRUE</field><field name="can_terminate">TRUE</field><field name="message"></field><statement name="success"><block type="set_var_to" id="/a0?K7P/#IM701WdURSI"><field name="var_name">formData</field><value name="var_expr"><block type="var_new_obj" id="9;kb:bPb}cWhu2HmOa.%"></block></value><next><block type="set_obj_to" id="Ct[7XOo-r%Qg?BT*451k"><field name="var_name">formData</field><field name="field_name">widget_template</field><value name="var_expr"><block type="var_variable" id="@ipfZTU%C2~CHAKVPv-0"><field name="var_name">widget_template</field></block></value><next><block type="simple_inline_form" id="8k7/3b1rGQ:4Ob?IE*-$"><field name="form_id">default</field><field name="sif_title">Save this widget template to settings:</field><field name="sif_desc"></field><statement name="form_field_data"><block type="form_text_field" id="D|`y9g`d[*X/oe1Leh{;"><field name="form_field_name">widget_template</field><field name="form_field_label">Template Name</field><field name="form_field_placeholder">some_template_name</field></block></statement><statement name="success"><block type="comment" id="2iEu6|1C6ZCZorDBmwP`"><field name="comment">crit section allows 1-at-a-time access to settings</field><next><block type="critical_section" id="oOc;h-OIDM.x!snrgI={"><field name="id">${process_diagram_id}_settings</field><statement name="statements"><block type="comment" id="LgWQkO:_cF1N;_Urbo)r"><field name="comment">make a new template object to hold settings for this template type</field><next><block type="set_var_to" id="lsE4?Qo.7KO3^hY_L/Qs"><field name="var_name">template</field><value name="var_expr"><block type="var_new_obj" id="z};sP87kMcBx.sGFhm]G"></block></value><next><block type="set_obj_to" id="J.sZ9g|1D_G8tMxk4)|9"><field name="var_name">template</field><field name="field_name">desc</field><value name="var_expr"><block type="var_variable" id="/JotSX*P.~@KQ{}Jk}8m"><field name="var_name">widget_desc</field></block></value><next><block type="set_obj_to" id=")+*LCVy*oh[#8M0RUcEe"><field name="var_name">template</field><field name="field_name">style</field><value name="var_expr"><block type="var_variable" id="/oByGoMm5U,Z_(m?`n!~"><field name="var_name">ex_style</field></block></value><next><block type="comment" id="1QVH;$m-4UYsaD(0Mk94"><field name="comment">load settings for the whole app...</field><next><block type="set_var_to" id="`|E#MJUT6qpgo.FDb,-H"><field name="var_name">settings</field><value name="var_expr"><block type="var_load_app_settings" id="zLQtYC^+vTpVBLYO^OiM"></block></value><next><block type="comment" id=";oj_Grugkzls;fn|/8$:"><field name="comment">...and save the template with the name from the form</field><next><block type="set_obj_to" id="BgOP/O~(zlPh:OHLccq@"><field name="var_name">settings</field><field name="field_name">${widget_template}</field><value name="var_expr"><block type="var_variable" id="_DI,p?;H_Uwz#4H#Y8hO"><field name="var_name">template</field></block></value><next><block type="save_app_settings" id="?Cub+o`_ruq=V-iZ#6Wd"><value name="var_expr"><block type="var_variable" id="{m`p;eo.Y8Yi+WI5`%6Q"><field name="var_name">settings</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></next></block></next></block></statement><next><block type="workflow_end" id="Ub?h9a`t,Etsd=M0U|uJ"></block></next></block></next></block></xml>